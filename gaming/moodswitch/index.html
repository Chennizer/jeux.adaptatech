<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title
    class="translate"
    data-fr="Scènes mélancoliques"
    data-en="Melancholic Scenes"
  >
    Scènes mélancoliques
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="../../css/otherswitch.css">
  <style>
    html, body {
      margin: 0;
      height: 100%;
      overflow: hidden;
      background: #0b0b15;
      color: #e2e8f0;
      font-family: 'Nunito', 'Segoe UI', sans-serif;
    }

    #mood-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: block;
      z-index: 0;
    }

    #overlay {
      position: fixed;
      top: clamp(12px, 3vw, 32px);
      left: clamp(12px, 3vw, 32px);
      max-width: min(380px, 90vw);
      backdrop-filter: blur(12px);
      background: rgba(10, 12, 24, 0.55);
      border-radius: 18px;
      padding: clamp(12px, 3vw, 24px);
      z-index: 2;
      box-shadow: 0 18px 36px rgba(12, 16, 28, 0.35);
    }

    #overlay h1 {
      margin: 0 0 0.25em;
      font-size: clamp(1.4rem, 2.2vw, 2.2rem);
      letter-spacing: 0.02em;
    }

    #scene-desc {
      margin: 0 0 0.75em;
      line-height: 1.4;
      font-size: clamp(0.95rem, 1.6vw, 1.15rem);
      color: rgba(226, 232, 240, 0.82);
    }

    #control-hint {
      display: inline-flex;
      align-items: center;
      gap: 0.5em;
      font-size: clamp(0.85rem, 1.4vw, 1rem);
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: rgba(148, 163, 184, 0.85);
    }

    #control-hint span.key {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 2.6em;
      padding: 0.3em 0.8em;
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.35);
      color: rgba(226, 232, 240, 0.9);
      font-weight: 600;
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08);
    }

    #status-hint {
      margin-top: 0.75em;
      font-size: 0.85rem;
      color: rgba(148, 163, 184, 0.75);
      letter-spacing: 0.08em;
    }

    #promptOverlay {
      position: fixed;
      inset: 0;
      z-index: 50;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: rgba(4, 6, 12, 0.92);
      color: #f8fafc;
      text-align: center;
      padding: clamp(24px, 4vw, 64px);
      gap: clamp(20px, 3vw, 32px);
    }

    #promptOverlay p {
      margin: 0;
      font-size: clamp(1rem, 2.2vw, 1.3rem);
      line-height: 1.5;
      max-width: min(540px, 90vw);
    }

    #modeSelect {
      display: flex;
      flex-direction: column;
      gap: clamp(10px, 1.6vw, 16px);
      align-items: center;
      width: min(420px, 100%);
    }

    #modeSelect legend {
      font-size: clamp(1rem, 2.1vw, 1.3rem);
      font-weight: 600;
      color: rgba(226, 232, 240, 0.9);
    }

    .mode-option {
      display: flex;
      align-items: flex-start;
      gap: 0.75em;
      background: rgba(15, 23, 42, 0.4);
      border-radius: 14px;
      padding: clamp(10px, 2vw, 16px);
      width: 100%;
      text-align: left;
      transition: background 0.2s ease, border 0.2s ease;
      border: 1px solid rgba(59, 130, 246, 0.15);
    }

    .mode-option:hover,
    .mode-option:focus-within {
      background: rgba(30, 41, 74, 0.55);
      border-color: rgba(59, 130, 246, 0.35);
    }

    .mode-option input[type="radio"] {
      margin-top: 0.2em;
      transform: scale(1.2);
    }

    .mode-option span.label {
      font-size: clamp(0.95rem, 1.9vw, 1.1rem);
      font-weight: 600;
      color: #e2e8f0;
    }

    .mode-option span.desc {
      display: block;
      margin-top: 0.25em;
      font-size: clamp(0.85rem, 1.7vw, 1rem);
      color: rgba(203, 213, 225, 0.9);
      line-height: 1.45;
    }

    #startButton {
      padding: clamp(14px, 2.2vw, 20px) clamp(36px, 6vw, 54px);
      font-size: clamp(1.05rem, 2.4vw, 1.4rem);
      border: none;
      border-radius: 14px;
      background: #2563eb;
      color: #f8fafc;
      cursor: pointer;
      font-weight: 700;
      letter-spacing: 0.03em;
      box-shadow: 0 12px 28px rgba(37, 99, 235, 0.35);
      transition: transform 0.15s ease, box-shadow 0.2s ease, filter 0.2s ease;
    }

    #startButton:hover {
      filter: brightness(1.1);
      transform: translateY(-1px);
      box-shadow: 0 16px 32px rgba(37, 99, 235, 0.4);
    }

    @media (max-width: 640px) {
      #overlay {
        right: clamp(12px, 3vw, 18px);
        left: auto;
      }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.6.0/lib/p5.min.js"></script>
</head>
<body>
  <div id="promptOverlay">
    <p class="translate"
       data-fr="Choisis un mode puis appuie sur &lt;strong&gt;Commencer&lt;/strong&gt; pour lancer les ambiances.<br>En mode standard, ESPACE alterne la scène. En mode contemplatif, ESPACE accélère brièvement la scène en cours."
       data-en="Choose a mode then press &lt;strong&gt;Start&lt;/strong&gt; to launch the moods.<br>In standard mode, SPACE changes the scene. In contemplative mode, SPACE briefly speeds up the current ambience.">
      Choisis un mode puis appuie sur <strong>Commencer</strong> pour lancer les ambiances.<br>En mode standard, ESPACE alterne la scène. En mode contemplatif, ESPACE accélère brièvement la scène en cours.
    </p>
    <fieldset id="modeSelect">
      <legend class="translate"
              data-fr="Modes disponibles"
              data-en="Available modes">
        Modes disponibles
      </legend>
      <label class="mode-option">
        <input type="radio" name="mode" value="default" checked>
        <span>
          <span class="label translate"
                data-fr="Mode standard"
                data-en="Standard mode">
            Mode standard
          </span>
          <span class="desc translate"
                data-fr="Contrôle immédiat : chaque pression sur ESPACE (ou toucher) passe à la scène suivante."
                data-en="Direct control: each SPACE press (or tap) moves to the next scene.">
            Contrôle immédiat : chaque pression sur ESPACE (ou toucher) passe à la scène suivante.
          </span>
        </span>
      </label>
      <label class="mode-option">
        <input type="radio" name="mode" value="slow">
        <span>
          <span class="label translate"
                data-fr="Mode contemplatif"
                data-en="Contemplative mode">
            Mode contemplatif
          </span>
          <span class="desc translate"
                data-fr="Chaque ambiance reste 1 minute avec des mouvements ralentis. Presse ESPACE pour accélérer pendant quelques secondes."
                data-en="Each ambience lingers for 1 minute with slowed motion. Press SPACE to accelerate for a few seconds.">
            Chaque ambiance reste 1 minute avec des mouvements ralentis. Presse ESPACE pour accélérer pendant quelques secondes.
          </span>
        </span>
      </label>
    </fieldset>
    <button id="startButton" class="translate" data-fr="Commencer" data-en="Start">Commencer</button>
  </div>
  <div id="overlay">
    <h1 id="scene-name" class="translate"
        data-fr="Pluie nocturne"
        data-en="Night rain">
      Pluie nocturne
    </h1>
    <p id="scene-desc" class="translate"
       data-fr="Gouttes fines et reflets dans la nuit"
       data-en="Fine raindrops and night reflections">
      Gouttes fines et reflets dans la nuit
    </p>
    <div id="control-hint">
      <span class="key" aria-hidden="true">Space</span>
      <span class="translate"
            data-fr="Change de scène • tactile : toucher l’écran"
            data-en="Switch scene • tap on touch screens">
        Change de scène • tactile : toucher l’écran
      </span>
    </div>
    <div id="status-hint">1 / 3</div>
  </div>

  <script type="module" src="./mood.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hotspot Capture (Eyegaze Duel)</title>
  <link rel="stylesheet" href="../../css/global.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.ably.com/lib/ably.min-1.js"></script>
</head>
<body>
  <header class="hero">
    <div>
      <h1>Hotspot Capture</h1>
      <p>Two players compete to dwell on the same hotspot first. Use eyegaze or mouse to move.</p>
    </div>
    <a class="back-link" href="../index.html">← Back to eyegaze games</a>
  </header>

  <main class="layout">
    <section class="panel">
      <h2>Connection</h2>
      <label class="field">
        <span>Ably API key</span>
        <input id="ablyKey" type="password" placeholder="Enter your Ably API key">
      </label>
      <label class="field">
        <span>Room name</span>
        <input id="roomName" type="text" value="hotspot-capture">
      </label>
      <div class="buttons">
        <button id="connectBtn">Connect</button>
        <button id="hostBtn" class="secondary">Become host</button>
      </div>
      <p id="connectionStatus" class="status">Not connected.</p>
      <p class="hint">Use the same room name on both devices. The API key is stored only in your browser.</p>

      <h3>Scores</h3>
      <ul id="scoreList" class="score-list"></ul>

      <div class="controls">
        <button id="spawnBtn" class="secondary">Spawn new hotspot</button>
        <p class="hint">Tip: The host can spawn targets. Anyone who captures a hotspot can also trigger the next one.</p>
      </div>
    </section>

    <section class="arena-wrapper">
      <div id="arena" class="arena">
        <div id="target" class="target"></div>
        <div id="remoteCursor" class="cursor remote"></div>
        <div id="localCursor" class="cursor local"></div>
      </div>
      <div class="legend">
        <div><span class="dot local"></span>You</div>
        <div><span class="dot remote"></span>Opponent</div>
      </div>
      <div class="status-row">
        <div>Target ID: <span id="targetId">—</span></div>
        <div>Capture dwell: <span id="dwellState">0 ms</span></div>
      </div>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>

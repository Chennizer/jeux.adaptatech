<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title data-fr="Clé USB TRRS" data-en="TRRS USB key">TRRS usb key</title>

  <!-- CSS Files -->
  <link rel="stylesheet" href="../../css/menu.css" />
  <link rel="stylesheet" href="../../css/global.css" />
  <link rel="stylesheet" href="../../css/layout.css" />
  <link rel="stylesheet" href="../../css/components.css" />
  <link rel="stylesheet" href="../../css/instructions.css" />

  <!-- Custom Styles for the new layout structure -->
  <style>
    /* Clearfix for the main container */
    .instruction-container::after {
      content: "";
      display: table;
      clear: both;
    }
    /* Two-column flex layout for sections if needed */
    .two-col {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 20px;
      margin-bottom: 40px;
    }
    .two-col .text {
      flex: 1;
      min-width: 250px;
    }
    .two-col .image {
      flex: 0 0 30vw;
      max-width: 30vw;
    }
    .two-col .image img {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 8px;
    }
    @media (max-width: 800px) {
      .two-col {
        flex-direction: column;
      }
      .two-col .image {
        flex: none;
        width: 100%;
        max-width: 100%;
      }
    }
    /* Styling for inline floated images */
    .img-float-right {
      float: right;
      width: 30vw;
      max-width: 100%;
      margin-right: 50px;
      margin-bottom: 20px;
      padding-top: 20px;
      padding-left: 20px;
    }
    /* Styling for side-by-side images */
    .images-row {
      display: flex;
      margin-top: 10px;
      margin-bottom: 10px;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      gap: 5px;
    }
    .images-row img {
      width: 20vw;
      margin: 0;
      border-radius: 6px;
    }
    pre code {
      display: block;
      background-color: #2d2d2d;
      color: #f8f8f2;
      padding: 1rem;
      border-radius: 8px;
      font-family: 'Source Code Pro', monospace;
      overflow-x: auto;
    }
    pre { margin: 1rem 0; }

    /* How-to list tweaks — numbers inline with titles */
    .howto-steps {
      counter-reset: step;
      padding-left: 0;
      margin: 0 0 40px 0;
      list-style: none;
    }
    .howto-steps > li { margin: 0 0 32px 0; }
    .howto-steps > li::before { content: none; }
    .howto-steps .step { display: block; }
    .howto-steps .step-title {
      margin: 0 0 8px 0;
      font-size: 1.1rem;
      line-height: 1.3;
    }
    .howto-steps .step-title::before {
      counter-increment: step;
      content: counter(step) ". ";
      font-weight: 700;
      margin-right: 8px;
    }
    .howto-steps .caption {
      font-size: 0.9rem;
      opacity: 0.8;
      margin-top: 6px;
    }

    /* Matériel list */
    .materials-list { padding-left: 1.2rem; margin: 0.5rem 0 2rem; }
    .materials-list li { margin: 0.25rem 0; }

    /* Standalone link under a step */
    .step-link {
      margin: -16px 0 24px 0; /* tucks closer to the step above */
    }
    .step-link a {
      font-weight: 600;
      text-decoration: underline;
    }

    /* Sub-list for "Options complémentaires" */
    .sub-options {
      list-style: disc;
      padding-left: 1.5rem;
      margin: 8px 0 0 0;
    }
    .sub-options li + li {
      margin-top: 8px;
    }
  </style>
</head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B45TJG4GBJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-B45TJG4GBJ');
</script>
<body class="menu">
  <!-- Top Navigation -->
  <nav class="top-menu">
    <div class="top-menu-title" data-fr="Portail de jeux adaptés" data-en="Adapted Games Portal">Portail de jeux adaptés</div>
    <ul>
      <li>
        <strong><a href="../index.html" data-fr="Accueil" data-en="Home">Accueil</a></strong>
      </li>
      <li>
        <strong><a href="#" id="language-toggle" onclick="toggleLanguage(); return false;" data-fr="" data-en=""></a></strong>
      </li>
    </ul>
  </nav>

  <!-- Hero Section -->
  <div class="hero-minimalist">
    <h1 data-fr="Fabrication d’un adaptateur ordinateur/switch" data-en="Building a computer/switch adapter"></h1>
  </div>

  <!-- Main Content Container -->
  <main class="instruction-container">
  
    <!-- Section: Programmation physique -->
    <section>
      <h3 data-fr="Introduction" data-en="Introduction">Programmation physique</h3>
      <p
        data-fr="Il est maintenant possible de créer un appareil permettant de brancher une switch à un ordinateur sans aucune habileté en programmation, en électronique ou en impression 3D. La seule habileté nécessaire est de savoir télécharger des fichiers et de les glisser sur une clé USB."
        data-en="It’s now possible to create a device that lets you plug a switch into a computer with no programming, electronics, or 3D-printing skills. The only skill you need is downloading files and dragging them onto a USB drive.">
      </p>
    </section>

    <!-- NEW Section: Matériel (between intro and numbered list) -->
    <section>
      <h3 data-fr="Matériel" data-en="Materials">Matériel</h3>
      <p
        data-fr="Voici l’appareil utilisé. Il s’agit d’une clé USB avec une prise 3,5 mm fabriquée par Adafruit. Il existe déjà plusieurs ressources en ligne sur son utilisation, mais en utilisant la plateforme Arduino. Dans ce guide, nous allons employer une méthode plus simple, qui ne nécessitera pas de télécharger de logiciels ni d’effectuer des manipulations sur l’ordinateur. Grâce à ce produit, n’importe qui peut créer son interface adaptée pour 10 $ US."
        data-en="Here is the device we’ll use: a USB key with a 3.5 mm jack made by Adafruit. Many online resources describe using it with Arduino. In this guide, we’ll use a simpler method that doesn’t require installing software or doing any computer-side setup. With this product, anyone can build an adapted interface for about US $10.">
      </p>
      <ul class="materials-list">
        <li>
          <a href="https://www.adafruit.com/product/5954" target="_blank" rel="noopener" 
             data-fr="Adafruit TRRS Trinkey - Clé USB pour technologie d’assistance" 
             data-en="Adafruit TRRS Trinkey — USB key for assistive technology">
            Adafruit TRRS Trinkey - USB Key for Assistive Technology
          </a>
        </li>
      </ul>
    </section>

    <!-- Section: Comment faire -->
    <section>
      <h3 data-fr="Comment faire" data-en="How to">Comment faire</h3>

      <ol class="howto-steps">
        <!-- Step 1 -->
        <li>
          <div class="step two-col">
            <div class="text">
              <h4 class="step-title"
                  data-fr="Activer la clé USB"
                  data-en="Activate the USB key">Activer la clé USB</h4>
              <p
                data-fr="D’abord, branchez la clé USB à un ordinateur. Pour l’activer, appuyez deux fois sur le bouton Reset pendant que la clé est branchée. La lumière devrait alors passer du rouge au vert."
                data-en="First, plug the USB key into a computer. To activate it, double-press the Reset button while it’s plugged in. The LED should change from red to green.">
              </p>
            </div>
            <div class="image">
              <img src="../../images/trrs/trinkeyboot4.png" alt="Activer la clé (placeholder)" />
            </div>
          </div>
        </li>

        <!-- Step 2 -->
        <li>
          <div class="step two-col">
            <div class="text">
              <h4 class="step-title"
                  data-fr="Préparer la clé USB"
                  data-en="Prepare the USB key">Préparer la clé USB</h4>
              <p
                data-fr="Maintenant que la lumière est verte, on peut procéder à la première manipulation, qui consiste à préparer la clé USB à recevoir sa configuration. Il suffit d’aller télécharger le fichier sur la page suivante et de le glisser (cliquer sur le fichier, garder le bouton de la souris enfoncé et le déplacer) sur le disque TRINKEYBOOT (première image). Après cela, la lumière verte clignotera et le disque sera renommé CIRCUITPY (deuxième image). La clé est maintenant prête à recevoir sa programmation. On peut confirmer que cela a bien fonctionné en vérifiant que le contenu de la clé est identique à la troisième image."
                data-en="Once the LED is green, prepare the USB key to receive its firmware. Download the file from the page below and drag it onto the TRINKEYBOOT drive (first image). The green LED will blink and the drive will rename itself to CIRCUITPY (second image). The key is now ready to receive its program. You can confirm success by checking that the drive contents match the third image.">
              </p>
            </div>
            <br>
            <p class="step-link">
              <a href="https://circuitpython.org/board/adafruit_trrs_trinkey_m0/" target="_blank" rel="noopener"
                 data-fr="Lien pour télécharger le fichier"
                 data-en="Download the UF2 file">fichier UF2</a>
            </p>
            <div class="image">
              <img src="../../images/trrs/trinkeyboot1.png" alt="Télécharger le fichier UF2 (placeholder)" />
              <img src="../../images/trrs/trinkeyboot3.png" alt="Télécharger le fichier UF2 (placeholder)" />
              <img src="../../images/trrs/trinkeyboot2.png" alt="Télécharger le fichier UF2 (placeholder)" />
            </div>
          </div>
        </li>

        <!-- Step 3 -->
        <li>
          <div class="step two-col">
            <div class="text">
              <h4 class="step-title"
                  data-fr="Charger la programmation"
                  data-en="Open the USB drive">Ouvrir le disque USB</h4>
              <p
                data-fr="Sur la clé USB, il y a un fichier nommé code.py qui est actuellement vide. C’est ce fichier qui détermine le fonctionnement de l’appareil. Vous pouvez le remplacer par le fichier ci-dessous en le glissant sur l’appareil ; cela préparera l’appareil à interagir avec une switch adaptée."
                data-en="On the USB drive there is a file named code.py, currently empty. This file controls how the device behaves. Replace it with the file below by dragging it onto the drive; this will set the device up to work with an adapted switch.">
              </p>
            </div>
            <p class="caption"
               data-fr="Si vous le téléchargez plusieurs fois, le fichier ajoutera un numéro pour différencier le nom (p. ex. code (1).py). Cela l’empêchera de fonctionner, car la clé USB utilise un fichier qui doit absolument s’appeler code.py. Pensez donc à vérifier cela si vous avez un bogue."
               data-en="If you download it multiple times, your computer may append a number to the filename (e.g., code (1).py). The device requires the file to be named exactly code.py, so rename it if needed.">
               Astuce : attendez la fin de la copie avant de débrancher.
            </p>

            <strong><a href="../../download/trrs/code.py" download="code.py"
                      data-fr="Télécharger le code"
                      data-en="Download the code">Télécharger le code</a></strong>
          </div>
        </li>

        <!-- Step 4 -->
        <li>
          <div class="step two-col">
            <div class="text">
              <h4 class="step-title"
                  data-fr="Charger la bibliothèque (lib)"
                  data-en="Copy the libraries">Glisser-déposer les fichiers</h4>
              <p
                data-fr="Sur la clé USB, il y a un dossier nommé lib. Il contient des fichiers qui permettent à la programmation de bien fonctionner. Par exemple, un fichier permet de contrôler la petite lumière sur la clé USB et un autre permet à la switch d’envoyer sa commande. Il suffit de télécharger l’archive lib.zip ci-dessous et de l’extraire à la racine de la clé USB. Cliquez sur « Remplacer » s’il y a une fenêtre indiquant qu’un dossier lib existe déjà sur le disque."
                data-en="On the USB drive there is a folder named lib. It contains the files the program needs to run—for example, one controls the onboard LED and another lets the switch send its command. Download lib.zip below and extract it to the root of the USB drive. If prompted, choose Replace to overwrite any existing lib folder.">
              </p>
            </div>
            <strong><a href="../../download/trrs/lib.zip" download="lib.zip"
                      data-fr="Télécharger lib.zip"
                      data-en="Download lib.zip">Télécharger lib.zip</a></strong>      
          </div>
        </li>

        <!-- Step 5 -->
        <li>
          <div class="step two-col">
            <div class="text">
              <h4 class="step-title"
                  data-fr="Tester"
                  data-en="Test it">Brancher la switch et tester</h4>
              <p
                data-fr="Branchez votre switch 3,5 mm à l’adaptateur et testez, soit sur une activité adaptée, soit en cliquant dans un champ de texte (l’appui sur la switch devrait générer un espace)."
                data-en="Plug a 3.5 mm switch into the adapter and test it—either in an accessible activity or by clicking into a text field (pressing the switch should generate a space).">
              </p>
            </div>
          </div>
        </li>

        <!-- Step 6: Options complémentaires with sub-list -->
        <li>
          <div class="step two-col">
            <div class="text">
              <h4 class="step-title"
                  data-fr="Options complémentaires"
                  data-en="Additional options">Options complémentaires</h4>

              <ul class="sub-options">
                <!-- First sub-item -->
                <li>
                  <p
                    data-fr="Idéalement, on veut protéger la clé USB. Sur le site lié ci-dessous (plateforme Makers Making Change), il y a des fichiers pour l’impression 3D d’un boîtier. Il s’agit de la meilleure option si vous avez accès à un appareil. Sinon, il est possible d’utiliser une gaine thermorétractable afin de protéger la clé. En dernier recours, on peut simplement l’entourer de ruban électrique ; toutefois, il faut s’assurer de ne pas trop serrer et de garder l’accès au bouton Reset afin de pouvoir reprogrammer l’appareil en cas de problème."
                    data-en="Ideally, protect the USB key. The link below (Makers Making Change platform) provides 3D-printable case files—the best option if you have access to a printer. Alternatively, use heat-shrink tubing to protect the key. As a last resort, wrap it with electrical tape, taking care not to compress it and to keep access to the Reset button in case you need to reprogram the device.">
                  </p>
                  <p class="step-link">
                    <br>
                    <a href="https://github.com/makersmakingchange/Shrub-Hub/tree/main/Build_Files/3D_Printing_Files" target="_blank" rel="noopener"
                       data-fr="Lien vers les fichiers du boîtier"
                       data-en="Link to case files">Lien vers les fichiers du boîtier</a>
                  </p>
                </li>

                <!-- Second sub-item -->
                <li>
                  <p
                    data-fr="Ce guide explique comment faire fonctionner une seule switch. Cependant, il est possible d’en faire fonctionner jusqu’à trois avec cet appareil, en ajoutant un câble en Y (1 prise mâle vers 2 prises femelles) pour la version à deux switchs, puis un répartiteur (« splitter ») pour aller jusqu’à trois. Sur la ressource de Makers Making Change (voir le lien du boîtier ci-dessus), cette possibilité est bien expliquée. Le code sur cette page permet d’utiliser deux switchs en modifiant une variable clairement identifiée de FALSE à TRUE."
                    data-en="This guide shows how to run a single switch. You can use up to three with this device by adding a Y-cable (1 male to 2 female) for two switches and then a splitter to reach three. The Makers Making Change resource (see the case link above) explains this in detail. The code provided here supports two switches by toggling a clearly labeled variable from FALSE to TRUE.">
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </li>
      </ol>
  
  </main>
  
  <!-- Footer inclusion (if available) -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      fetch('../../footer.html')
        .then(response => response.text())
        .then(data => {
          document.body.insertAdjacentHTML('beforeend', data);
        });
    });
  </script>
  <script src="../../js/translationmain.js"></script>
</body>
</html>

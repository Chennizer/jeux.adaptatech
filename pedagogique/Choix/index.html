<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Choix et scan</title>
  <link rel="stylesheet" href="../../css/choix.css">
  <link rel="stylesheet" href="../../css/control-panel.css">
</head>
<body>

  <!-- Game Options Modal (Step 1) -->
  <div id="game-options" class="modal" style="display: flex;">
    <div id="control-panel-options">
      <div id="control-panel-title-wrapper">
        <h2 id="control-panel-title">Options</h2>
      </div>
      <div id="control-panel-instructions">
        <!-- You can add instructions here if needed -->
      </div>
      
      <!-- Mode Selection using two buttons -->
      <div id="mode-selection" style="display: flex; gap: 20px; justify-content: center;">
        <button id="mode-choice-button" class="button selected">Choix</button>
        <button id="mode-scan-button" class="button">Scan</button>
      </div>
      
      <!-- Scan Delay Input (visible only if Scan is selected) -->
      <div id="scan-delay-container" style="margin-top: 10px; display: none;">
        <label for="scan-delay" style="font-size: 16px; color: #fff;">Temps de scan</label>
        <input type="number" id="scan-delay" min="1" value="3" class="styled-input">
      </div>
      
      <!-- Number of Tiles Input -->
      <div style="margin-top: 10px; text-align: center;">
        <label for="tile-count" style="font-size: 16px; color: #fff;">Nombre de tuiles</label>
        <input type="number" id="tile-count" min="1" max="25" value="3" class="styled-input">
      </div>
      
      <!-- New: Checkbox to enable cycle sound effect -->
      <div style="margin-top: 10px; text-align: center;">
        <input type="checkbox" id="enable-cycle-sound" checked>
        <label for="enable-cycle-sound" style="font-size: 16px; color: #fff;">Activer le son de cycle</label>
      </div>
      
      <!-- Button to proceed to tile selection -->
      <button id="choose-tiles-button" class="button" style="margin-top: 20px;">Choix des tuiles</button>
    </div>
  </div>

  <!-- Tile Picker Modal (Step 2) -->
  <div id="tile-picker-modal" class="modal" style="display: none;">
    <div id="control-panel-options">
      <div id="control-panel-title-wrapper">
        <h2 id="control-panel-title">Choisir les tuiles</h2>
      </div>
      <div id="control-panel-instructions">
        Choisir <span id="tile-count-display"></span> tuiles.
      </div>
      <div id="tile-picker-grid" style="
          display: grid; 
          grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); 
          gap: 10px;
          max-width: 800px;
          margin: 20px auto;
      ">
        <!-- JavaScript will populate this grid with all available tile options (thumbnails) -->
      </div>
      <button id="start-game-button" class="button" style="margin-top: 20px;" disabled>Commencer</button>
    </div>
  </div>
  
  <!-- Container for the Game's Tile Grid (will use only the selected tiles) -->
  <div id="tile-container" style="display: none;"></div>
  
  <!-- Container for Video Playback (hidden until a video is played) -->
  <div id="video-container" style="display: none;">
    <video id="video-player" autoplay>
      <source id="video-source" type="video/mp4">
      Your browser does not support video.
    </video>
  </div>
  
  <!-- Script References: Load the media array and game logic -->
  <script src="../../js/choiceArray.js"></script>
  <script src="../../js/choix.js"></script>
</body>
</html>

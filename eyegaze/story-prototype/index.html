<!DOCTYPE html>
<html lang="fr" data-current-lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-fr="Prototype d'histoire (commande oculaire)" data-en="Story Prototype (eye gaze)">Prototype d'histoire (commande oculaire)</title>
  <link rel="stylesheet" href="../../css/global.css" />
  <link rel="stylesheet" href="../../css/layout.css" />
  <link rel="stylesheet" href="../../css/components.css" />
  <link rel="stylesheet" href="story.css" />
</head>
<body class="story-app">
  <header class="story-header">
    <a class="back-link" href="../index.html" data-fr="← Retour" data-en="← Back">← Retour</a>
    <div class="story-progress" aria-live="polite">
      <span id="stepLabel" class="step-label"></span>
      <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
        <div id="progressFill" class="progress-fill"></div>
      </div>
    </div>
    <button id="languageToggle" class="language-toggle" type="button" aria-live="polite" aria-label="Basculer en anglais">EN</button>
  </header>

  <main id="appRoot" class="app-root">
    <section id="menuScreen" class="screen active" aria-labelledby="menuTitle">
      <div class="menu-card">
        <h1 id="menuTitle" data-fr="Prototype d'histoire interactif" data-en="Interactive story prototype">Prototype d'histoire interactif</h1>
        <p id="menuDescription" data-fr="Découvrez un aperçu du parcours narratif avec trois mini-jeux intégrés."
           data-en="Explore a preview of the narrative journey with three embedded mini-games.">
          Découvrez un aperçu du parcours narratif avec trois mini-jeux intégrés.
        </p>
        <ul class="menu-list">
          <li data-fr="Lecture par pages en plein écran" data-en="Full-screen story pages">Lecture par pages en plein écran</li>
          <li data-fr="Déclenchement par fixation (dwell)" data-en="Dwell activation">Déclenchement par fixation (dwell)</li>
          <li data-fr="Mini-jeux: Cherry Blossom, Méditation, Lampe magique" data-en="Mini-games: Cherry Blossom, Meditation, Magic Lamp">Mini-jeux: Cherry Blossom, Méditation, Lampe magique</li>
        </ul>
        <div id="menuStart" class="dwell-cta" role="button" tabindex="0"
             data-fr="Regardez ici pour commencer" data-en="Look here to begin">
          <span class="cta-label">Regardez ici pour commencer</span>
          <span class="dwell-ring"><span class="dwell-progress"></span></span>
        </div>
      </div>
    </section>

    <section id="storyScreen" class="screen" aria-live="polite">
      <article class="story-scene">
        <div id="sceneVisual" class="scene-visual placeholder-dawn" aria-hidden="true"></div>
        <div class="scene-overlay">
          <div class="scene-text">
            <h2 id="sceneTitle" class="scene-title"></h2>
            <p id="sceneBody" class="scene-body"></p>
          </div>
          <div id="storyAdvance" class="dwell-cta" role="button" tabindex="0"
               data-fr="Regardez ici pour continuer" data-en="Look here to continue">
            <span class="cta-label">Regardez ici pour continuer</span>
            <span class="dwell-ring"><span class="dwell-progress"></span></span>
          </div>
        </div>
      </article>
    </section>

    <section id="gameScreen" class="screen" aria-live="polite">
      <article class="game-scene">
        <div class="game-header">
          <h2 id="gameTitle" class="scene-title"></h2>
          <p id="gameSummary" class="scene-body"></p>
        </div>
        <div class="game-frame-wrapper">
          <iframe id="gameFrame" title="Mini-jeu" src="" loading="lazy" allowfullscreen></iframe>
        </div>
        <div class="game-actions">
          <a id="gameExternal" class="secondary-link" href="#" target="_blank" rel="noopener"
             data-fr="Ouvrir le mini-jeu dans un nouvel onglet"
             data-en="Open the mini-game in a new tab">Ouvrir le mini-jeu dans un nouvel onglet</a>
          <div id="gameAdvance" class="dwell-cta" role="button" tabindex="0"
               data-fr="Retour à l'histoire" data-en="Back to the story">
            <span class="cta-label">Retour à l'histoire</span>
            <span class="dwell-ring"><span class="dwell-progress"></span></span>
          </div>
        </div>
      </article>
    </section>

    <section id="summaryScreen" class="screen" aria-live="polite">
      <div class="summary-card">
        <h2 id="summaryTitle" data-fr="Fin du prototype" data-en="End of the prototype">Fin du prototype</h2>
        <p id="summaryBody"
           data-fr="Merci d'avoir exploré ce prototype. Ce parcours montre comment alterner des pages d'histoire et des mini-jeux."
           data-en="Thank you for exploring this prototype. This journey demonstrates how story pages and mini-games can alternate.">
          Merci d'avoir exploré ce prototype. Ce parcours montre comment alterner des pages d'histoire et des mini-jeux.
        </p>
        <div class="summary-actions">
          <div id="restartStory" class="dwell-cta" role="button" tabindex="0"
               data-fr="Revenir au menu" data-en="Back to the menu">
            <span class="cta-label">Revenir au menu</span>
            <span class="dwell-ring"><span class="dwell-progress"></span></span>
          </div>
          <a class="secondary-link" href="../index.html"
             data-fr="Voir les autres jeux" data-en="Browse other games">Voir les autres jeux</a>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="story.js"></script>
</body>
</html>

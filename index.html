<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portail de jeux</title>

  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/popup.css">
  <link rel="stylesheet" href="css/styleghibli.css">
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-B45TJG4GBJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-B45TJG4GBJ');
  </script>

  <style>


    .hero-banner {
      width: 100%;
      height: auto;
      aspect-ratio: 1920 / 700;
      position: relative;
      overflow: hidden;
    }

    .hero-banner img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

 

    

    .floating-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #623B5A;
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 1.5em;
      cursor: pointer;
      z-index: 1000;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    .floating-button:hover {
      background-color: #D36135;
    }

    .floating-button.lang-ja-label {
      font-size: 1.3em;
    }

    .floating-button.lang-toggle {
      bottom: 90px;
    }

    /* Modal + overlay for news updates */
    #infoModal {
      display: none;
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 600px;
      background: white;
      border-radius: 10px;
      padding: 20px;
      z-index: 1001;
      box-shadow: 0 4px 10px rgba(0,0,0,0.25);
    }

    #overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.4);
      z-index: 1000;
    }

    #closeModal {
      background-color: #D36135;
      border: none;
      padding: 10px 20px;
      color: white;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 20px;
    }
  </style>
</head>
<body class="menu">
  <header class="hero-banner">
    <img src="images/banner0402.png" alt="Banni√®re principale">
  </header>

  <!-- Call-to-Action Section -->
  <section class="cta">
    <h2 data-fr="R√©pertoire de jeux adapt√©s et d'activit√©s pour les √©l√®ves polyhandicap√©s" data-en="Directory of adapted games and activities for students with multiple disabilities" data-ja="ÈáçË§áÈöúÂÆ≥„ÅÆ„ÅÇ„ÇãÂ≠¶ÁøíËÄÖ„ÅÆ„Åü„ÇÅ„ÅÆÈÅ©Âøú„Ç≤„Éº„É†„Å®„Ç¢„ÇØ„ÉÜ„Ç£„Éì„ÉÜ„Ç£„ÅÆ‰∏ÄË¶ß">
      R√©pertoire de jeux adapt√©s et d'activit√©s pour les √©l√®ves polyhandicap√©s
    </h2>

    <h3 data-fr="Jeux √©ducatifs con√ßus pour switch adapt√©e, ainsi que pour √©cran tactile et contr√¥le oculaire. Si vous ne savez pas de quoi il s'agit, rendez-vous <a class='antilicense-link' href='https://adaptatech.org/documentation/introduction/index.html' target='_blank'>ici pour une introduction</a>" data-en="Educational games designed for adapted switch, as well as for touchscreen and eye-gaze control. If you don't know what that is, please go read <a class='antilicense-link' href='https://adaptatech.org/documentation/introduction/index.html' target='_blank'>this introduction</a>" data-ja="ÈÅ©Âøú„Çπ„Ç§„ÉÉ„ÉÅ„ÄÅ„Çø„ÉÉ„ÉÅ„Çπ„ÇØ„É™„Éº„É≥„ÄÅË¶ñÁ∑öÂÖ•Âäõ„Å´ÂØæÂøú„Åó„ÅüÊïôËÇ≤„Ç≤„Éº„É†„Åß„Åô„ÄÇË©≥„Åó„Åè„Å™„ÅÑÊñπ„ÅØ<a class='antilicense-link' href='https://adaptatech.org/documentation/introduction/index.html' target='_blank'>„Åì„Å°„Çâ„ÅÆÂ∞éÂÖ•„Ç¨„Ç§„Éâ</a>„Çí„ÅîË¶ß„Åè„Å†„Åï„ÅÑ">
      Jeux √©ducatifs con√ßus pour switch adapt√©e, ainsi que pour √©cran tactile et contr√¥le oculaire
    </h3>
    <h3 data-fr="Activit√©s con√ßues pour tous les √¢ges, tout en essayant d'accorder une attention particuli√®re aux apprenants plus √¢g√©s" data-en="Activities designed for all ages, with special attention given to older learners" data-ja="„ÅÇ„Çâ„ÇÜ„ÇãÂπ¥ÈΩ¢„Å´Âêë„Åë„Åü„Ç¢„ÇØ„ÉÜ„Ç£„Éì„ÉÜ„Ç£„Åß„ÄÅÁâπ„Å´Âπ¥Èï∑„ÅÆÂ≠¶ÁøíËÄÖ„Å∏„ÅÆÈÖçÊÖÆ„ÇíÈáçË¶ñ„Åó„Å¶„ÅÑ„Åæ„Åô">
      Activit√©s con√ßues pour tous les √¢ges, tout en essayant d'accorder une attention particuli√®re aux apprenants plus √¢g√©s
    </h3>
    <h3 data-fr="Gratuit pour toujours, libre de tous droits, publi√© sous <a class='antilicense-link' href='https://unlicense.org/' target='_blank'>antilicense</a>" data-en="Forever free, public domain, published under <a class='antilicense-link' href='https://unlicense.org/' target='_blank'>unlicense</a>" data-ja="Ê∞∏ÈÅ†„Å´ÁÑ°Êñô„Åß„Éë„Éñ„É™„ÉÉ„ÇØ„Éâ„É°„Ç§„É≥„ÄÅ<a class='antilicense-link' href='https://unlicense.org/' target='_blank'>„Ç¢„É≥„É©„Ç§„Çª„É≥„Çπ</a>„ÅÆ‰∏ã„ÅßÂÖ¨Èñã„Åó„Å¶„ÅÑ„Åæ„Åô">
      Gratuit pour toujours, libre de tous droits, publi√© sous <a class="antilicense-link" href="https://unlicense.org/" target="_blank">antilicense</a>
    </h3>
  </section>

  <main class="main-content">
    <div class="tile-container-main">
      <div class="tile-main">
        <a href="switch/index.html" class="tile-video-link" data-video="animations/musicswitchvideo.mp4">
          <img src="images/ghibli/5yearswitch.png" alt="Switch Games">
          <div class="tile-main-title" data-fr="Jeux pour switch (musique et vid√©oclips)" data-en="Switch games (music and video clips)" data-ja="„Çπ„Ç§„ÉÉ„ÉÅÁî®„Ç≤„Éº„É†ÔºàÈü≥Ê•Ω„Å®„Éì„Éá„Ç™„ÇØ„É™„ÉÉ„ÉóÔºâ"></div>
        </a>
      </div>
      <div class="tile-main">
        <a href="pov/index.html">
          <img src="images/ghibli/8yearswitch.png" alt="Switch Games">
          <div class="tile-main-title" data-fr="Jeux pour switch (POV)" data-en="Switch games (POV)" data-ja="„Çπ„Ç§„ÉÉ„ÉÅÁî®„Ç≤„Éº„É†ÔºàPOVÔºâ"></div>
        </a>
      </div>
      <div class="tile-main">
        <a href="gaming/index.html">
          <img src="images/ghibli/othergames.png" alt="gaming">
          <div class="tile-main-title" data-fr="Jeux pour switch (divers)" data-en="Switch games (various)" data-ja="„Çπ„Ç§„ÉÉ„ÉÅÁî®„Ç≤„Éº„É†Ôºà„Åù„ÅÆ‰ªñÔºâ"></div>
        </a>
      </div>
      <div class="tile-main">
        <a href="specialrequest/index.html">
          <img src="images/ghibli/ghiblispecialrequest.png" alt="gaming">
          <div class="tile-main-title" data-fr="Activit√©s personnalis√©es (demandes sp√©ciales)" data-en="Custom activity (special request)" data-ja="„Ç´„Çπ„Çø„É†Ê¥ªÂãïÔºàÁâπÂà•„É™„ÇØ„Ç®„Çπ„ÉàÔºâ"></div>
        </a>
      </div>
      <div class="tile-main">
        <a href="documentation/index.html">
          <img src="images/ghibli/ghiblidocumentation.png" alt="Instructions">
          <div class="tile-main-title" data-fr="Documentation" data-en="Documentation" data-ja="„Éâ„Ç≠„É•„É°„É≥„Éà"></div>
        </a>
      </div>
      <div class="tile-main">
        <a href="tactile/index.html">
          <img src="images/ghibli/ghiblitablette.png" alt="Jeux tactiles">
          <div class="tile-main-title" data-fr="Jeux pour √©crans tactiles" data-en="Touchscreen games" data-ja="„Çø„ÉÉ„ÉÅ„Çπ„ÇØ„É™„Éº„É≥Áî®„Ç≤„Éº„É†"></div>
        </a>
      </div>
      <div class="tile-main">
        <a href="pedagogique/index.html">
          <img src="images/ghibli/ghiblipedagogie.png" alt="p√©dagogique">
          <div class="tile-main-title" data-fr="Outils p√©dagogiques" data-en="Educational tools" data-ja="ÊïôËÇ≤Áî®„ÉÑ„Éº„É´"></div>
        </a>
      </div>
      <div class="tile-main">
        <a href="eyegaze/index.html">
          <img src="images/ghibli/ghiblieyegaze.png" alt="Eye Gaze Games">
          <div class="tile-main-title" data-fr="Jeux pour contr√¥le oculaire" data-en="Eye control games" data-ja="Ë¶ñÁ∑öÂÖ•Âäõ„Ç≤„Éº„É†"></div>
        </a>
      </div>
      <div class="tile-main">
        <a href="contact/index.html">
          <img src="images/ghibli/ghiblicontact.png" alt="Contact">
          <div class="tile-main-title" data-fr="Contact" data-en="Contact" data-ja="„ÅäÂïè„ÅÑÂêà„Çè„Åõ"></div>
        </a>
      </div>
    </div>
  </main>

  <!-- Floating buttons: News + Language Toggle -->
  <button id="newsButton" class="floating-button" title="Mises √† jour">üì∞</button>
  <button id="langToggle" class="floating-button lang-toggle" title="Changer la langue / Switch language">EN</button>

  <!-- Modal for Updates -->
  <div id="infoModal">
    <h2 data-fr="Mises √† jour" data-en="Updates" data-ja="Êõ¥Êñ∞ÊÉÖÂ†±">Mises √† jour</h2>
    <ul>
<li data-fr="Activit√© de choix disponible pour switch, √©cran tactile et contr√¥le oculaire mise √† jour."
    data-en="Updated choice activity available for switch, touchscreen, and eye-gaze control."
    data-ja="„Çπ„Ç§„ÉÉ„ÉÅ„ÄÅ„Çø„ÉÉ„ÉÅ„Çπ„ÇØ„É™„Éº„É≥„ÄÅË¶ñÁ∑öÂÖ•ÂäõÂêë„Åë„ÅÆÈÅ∏Êäû„Ç¢„ÇØ„ÉÜ„Ç£„Éì„ÉÜ„Ç£„ÇíÊõ¥Êñ∞„Åó„Åæ„Åó„Åü„ÄÇ">
</li>

<li data-fr="Choix vid√©o pour switch et contr√¥le oculaire maintenant pour vid√©os locales et youtube disponible."
    data-en="Video choice activity for switch and eye-gaze now supports both local and YouTube videos."
    data-ja="„Çπ„Ç§„ÉÉ„ÉÅ„Å®Ë¶ñÁ∑öÂÖ•Âäõ„ÅÆ„Éì„Éá„Ç™ÈÅ∏Êäû„Ç¢„ÇØ„ÉÜ„Ç£„Éì„ÉÜ„Ç£„Åå„ÄÅ„É≠„Éº„Ç´„É´ÂãïÁîª„Å®YouTube„ÅÆ‰∏°Êñπ„Å´ÂØæÂøú„Åó„Åæ„Åó„Åü„ÄÇ">
</li>

<li data-fr="Guide pour la cr√©ation d'une interface ordinateur/switch simple √† l'aide de l'Adafruit TRRS trinkey."
    data-en="Guide to creating a simple computer/switch interface using the Adafruit TRRS Trinkey."
    data-ja="Adafruit TRRS Trinkey „Çí‰Ωø„Å£„Å¶Á∞°Êòì„Å™„Ç≥„É≥„Éî„É•„Éº„Çø„ÉºÔºè„Çπ„Ç§„ÉÉ„ÉÅ „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ„Çí‰Ωú„Çã„Åü„ÇÅ„ÅÆ„Ç¨„Ç§„Éâ„ÄÇ">
</li>

<li data-fr="Traduction vers le japonais avec l'IA commenc√©e (menus, section contr√¥le oculaire et POV)"
    data-en="Japanese translation with AI has begun (menus, eye-gaze control section, and POV)."
    data-ja="AI „ÇíÁî®„ÅÑ„ÅüÊó•Êú¨Ë™ûÁøªË®≥„ÇíÈñãÂßã„Åó„Åæ„Åó„ÅüÔºà„É°„Éã„É•„Éº„ÄÅË¶ñÁ∑öÂÖ•Âäõ„Çª„ÇØ„Ç∑„Éß„É≥„ÄÅPOVÔºâ„ÄÇ">
</li>

<li data-fr="Activit√© m√©t√©o."
    data-en="Weather activity."
    data-ja="Â§©Ê∞ó„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„Éì„ÉÜ„Ç£„ÄÇ">
</li>
<li data-fr="Page de lecture pour Gemini Storybook pour switch et contr√¥le oculaire."
    data-en="Reading page for Gemini Storybook for switch and eye-gaze control."
    data-ja="„Çπ„Ç§„ÉÉ„ÉÅ„Å®Ë¶ñÁ∑öÂÖ•Âäõ„Å´ÂØæÂøú„Åó„Åü Gemini Storybook „ÅÆË™≠Êõ∏„Éö„Éº„Ç∏„ÄÇ">
</li>

    </ul>
    <button id="closeModal" data-fr="Fermer" data-en="Close" data-ja="Èñâ„Åò„Çã">Fermer</button>
  </div>
  <div id="overlay"></div>

  <!-- Transition overlay for the switch tile video intro -->
  <div id="tileTransitionOverlay" aria-hidden="true">
    <img id="tileTransitionImage" alt="Switch Games" />
    <video id="tileTransitionVideo" playsinline preload="auto"></video>
  </div>

  <!-- Script to handle the modal for news -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const modal = document.getElementById('infoModal');
      const overlay = document.getElementById('overlay');
      const newsButton = document.getElementById('newsButton');
      const closeButton = document.getElementById('closeModal');

      newsButton.addEventListener('click', () => {
        modal.style.display = 'block';
        overlay.style.display = 'block';
      });

      closeButton.addEventListener('click', () => {
        modal.style.display = 'none';
        overlay.style.display = 'none';
      });

      overlay.addEventListener('click', () => {
        modal.style.display = 'none';
        overlay.style.display = 'none';
      });
    });
  </script>

  <!-- Script to handle language toggling, referencing translationMain.js -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const langBtn = document.getElementById('langToggle');
      langBtn.addEventListener('click', () => {
        toggleLanguage();
      });
    });
  </script>

  <!-- Script to handle the intro video transition for the switch tile -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const transitionLink = document.querySelector('.tile-video-link');
      const overlay = document.getElementById('tileTransitionOverlay');
      const overlayImage = document.getElementById('tileTransitionImage');
      const overlayVideo = document.getElementById('tileTransitionVideo');
      const storageKey = 'switchTileIntroSeen';

      if (!transitionLink || !overlay || !overlayImage || !overlayVideo) return;

      const resetOverlay = () => {
        overlay.classList.remove('is-active', 'video-visible');
        overlayImage.classList.remove('expand');
        overlayImage.src = '';
        overlayVideo.pause();
        overlayVideo.currentTime = 0;
        overlayVideo.removeAttribute('src');
        overlayVideo.load();
        document.body.classList.remove('transition-lock');
      };

      window.addEventListener('pageshow', resetOverlay);

      const goToLink = (url) => {
        try {
          localStorage.setItem(storageKey, 'true');
        } catch (error) {
          /* localStorage unavailable */
        }
        window.location.href = url;
      };

      const hasSeenIntro = () => {
        try {
          return localStorage.getItem(storageKey) === 'true';
        } catch (error) {
          return false;
        }
      };

      transitionLink.addEventListener('click', (event) => {
        if (overlay.classList.contains('is-active')) {
          event.preventDefault();
          return;
        }

        if (hasSeenIntro()) {
          return;
        }

        const targetUrl = transitionLink.href;
        const videoSrc = transitionLink.dataset.video;

        if (!videoSrc) return;

        event.preventDefault();

        const image = transitionLink.querySelector('img');
        if (!image) {
          goToLink(targetUrl);
          return;
        }

        const rect = image.getBoundingClientRect();

        overlayImage.src = image.src;
        overlayImage.style.width = `${rect.width}px`;
        overlayImage.style.height = `${rect.height}px`;
        overlayImage.style.left = `${rect.left}px`;
        overlayImage.style.top = `${rect.top}px`;

        overlayVideo.src = videoSrc;
        overlayVideo.load();
        overlay.classList.add('is-active');
        document.body.classList.add('transition-lock');

        const primePlayback = overlayVideo.play();
        if (primePlayback && typeof primePlayback.then === 'function') {
          primePlayback.then(() => {
            overlayVideo.pause();
            overlayVideo.currentTime = 0;
          }).catch(() => {
            /* ignore prime failure; will retry on transition end */
          });
        }

        requestAnimationFrame(() => {
          overlayImage.classList.add('expand');
        });

        const playVideo = () => {
          overlay.classList.add('video-visible');
          const playback = overlayVideo.play();
          if (playback && typeof playback.then === 'function') {
            playback.catch(() => {
              goToLink(targetUrl);
            });
          }
        };

        overlayImage.addEventListener('transitionend', playVideo, { once: true });

        const redirectTimeout = setTimeout(() => goToLink(targetUrl), 12000);

        overlayVideo.addEventListener('ended', () => {
          clearTimeout(redirectTimeout);
          goToLink(targetUrl);
        }, { once: true });
      });
    });
  </script>

  <script src="js/translationmain.js"></script>
</body>
</html>

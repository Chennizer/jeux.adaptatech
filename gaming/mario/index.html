<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title class="translate" data-fr="Super Mario (Pas de score / Pas de PDF)" data-en="Super Mario (No Score / No PDF)" data-ja="スーパーマリオ（スコアなし／PDFなし）">Super Mario (No Score / No PDF)</title>
    <link rel="stylesheet" href="../../css/control-panel.css">
    <link rel="stylesheet" href="../../css/games.css">
    <link rel="stylesheet" href="../../css/gaming.css">
    <link rel="stylesheet" href="../../css/layout.css">
    <link rel="stylesheet" href="../../css/videogamesmenu.css">
    <style>
      #language-toggle{
        position:fixed; top:10px; right:10px; z-index:99999;
        padding:6px 10px; border-radius:10px; border:2px solid #009688;
        background:#fff; color:#009688; font-weight:700; cursor:pointer;
        user-select:none;
      }
      /* Respect the original video aspect ratio (no stretching) */
      .video-container{
        position: fixed;
        inset: 0;
        background: #000; /* letterbox bars */
      }
      .video-player{
        width: 100%;
        height: 100%;
        object-fit: contain; /* key: preserve AR, add pillar/letterboxing */
        background: #000;
      }
    </style>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B45TJG4GBJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-B45TJG4GBJ');
</script>
</head>
<body
    data-media-type="video"
    data-video-source="https://bucket.adaptatech.org/supermario.mp4"
    data-timestamps-easy="5.7,15.1,28,42.1,53.1"
    data-timestamps-medium="5.7,15.1,28,42.1,53.1"
    data-timestamps-hard="5.7,11.5,15.1,19.4,28,33,42.1,46.4,53.1"
    data-prompt-text="Press the space bar to continue!"
    data-pause-sound="/sounds/piano.mp3"
>
    <button id="language-toggle" title="Changer de langue / Change language">FR / EN</button>
    <div id="control-panel">
        <div id="options-title-bar">
            <h2 id="options-main-title" class="translate" data-fr="Super Mario" data-en="Super Mario" data-ja="スーパーマリオ">Super Mario</h2>
        </div>
        <div id="control-panel-options" class="control-panel-options">
            <p id="control-panel-instructions" class="control-panel-instructions translate"
               data-fr="Jeu interactif Super Mario adapté pour Switch"
               data-en="Interactive game for Switch"
               data-ja="スーパーマリオのスイッチ向けインタラクティブゲーム">

            </p>
            <div id="mode-divider"></div>
            <div id="options-inline-container">
                <div class="options-column">
                    <div class="option-item">
                        <label for="control-panel-play-mode" class="teal-label translate" data-fr="Niveau de difficulté" data-en="Difficulty level" data-ja="難易度">Niveau de difficulté:</label>
                        <select id="control-panel-play-mode" class="styled-select">
                            <option value="easy" selected class="translate" data-fr="Facile" data-en="Easy" data-ja="かんたん">Facile</option>
                            <option value="medium" class="translate" data-fr="Moyen" data-en="Medium" data-ja="ふつう">Moyen</option>
                            <option value="hard" class="translate" data-fr="Difficile" data-en="Hard" data-ja="むずかしい">Difficile</option>
                        </select>
                    </div>
                </div>
                    <div class="option-item summary-button-item">
                    <label for="select-space-prompt-button"
                            class="teal-label summary-image-label translate"
                            data-fr="Image " data-en="Image" data-ja="画像">Image </label>
                    <button id="select-space-prompt-button" class="button translate"
                            data-fr="Image indicatrice" data-en="Indicator Image" data-ja="案内用画像">Image indicatrice</button>
                    </div>

                <div class="options-column">
                    <div class="option-item">
                        <label for="sound-options-select" class="teal-label translate" data-fr="Options sonores" data-en="Sound options" data-ja="サウンド設定">Options sonores:</label>
                        <select id="sound-options-select" class="styled-select control-panel-custom-select"></select>
                        <input type="range" id="sound-volume-slider" class="styled-slider" min="1" max="100" value="50">
                        <div class="slider-endpoints">
                            <span>1</span>
                            <span>100</span>
                        </div>
                    </div>
                </div>
            </div>
            <div id="mode-divider"></div>
            <div id="button-container" class="button-container">
                <div id="control-panel-loading-bar-container" class="loading-bar-container">
                    <div id="control-panel-loading-bar" class="loading-bar"></div>
                </div>
                <button id="control-panel-start-button" class="button hidden translate" data-fr="Commencer" data-en="Start" data-ja="開始">Commencer</button>
            </div>
        </div>
    </div>

    <!-- Overlay for the "space‐prompt" -->
    <div id="overlay-screen" class="overlay-screen hidden">
        <img id="space-prompt-image" class="space-prompt-image hidden" src="" alt="Press Space">
    </div>

    <!-- Video Container -->
    <div id="video-container" class="video-container hidden">
        <video id="video-player" class="video-player" controls="false" preload="auto">
            <source id="video-source" src="https://bucket.adaptatech.org/mario-clip.mp4" type="video/mp4">
            <source src="https://bucket.adaptatech.org/mktest.mp4" type="video/mp4">
            Votre navigateur ne supporte pas la balise vidéo.
        </video>
    </div>

    <!-- Space Prompt Selection Modal -->
    <div id="space-prompt-selection-modal" class="modal hidden">
        <div class="modal-content">
            <span id="close-space-prompt-modal" class="close">&times;</span>
            <h2 class="translate" data-fr="Sélectionner l'image indicatrice" data-en="Select the indicator image" data-ja="案内用の画像を選択">Sélectionner l'image indicatrice</h2>
            <div id="space-prompt-selection" class="space-prompt-images-container"></div>
            <h3 class="translate" data-fr="Remplacer l'image par du texte:" data-en="Replace image with text:" data-ja="画像をテキストに置き換える：">Remplacer l'image par du texte:</h3>
            <input type="text" id="text-prompt-input" placeholder="Texte personnalisé"
                   style="width: 100%; padding: 10px; margin-top: 15px;"
                   class="control-panel-input">
            <button id="apply-space-prompt" class="button translate" data-fr="OK" data-en="OK" data-ja="OK">OK</button>
        </div>
    </div>

    <!-- Record Modal -->
    <div id="record-modal" class="modal hidden">
        <div class="modal-content">
            <span id="close-record-modal" class="close">&times;</span>
            <h2 class="translate" data-fr="Enregistrez Votre Son" data-en="Record Your Sound" data-ja="自分の声を録音">Enregistrez Votre Son</h2>
            <p id="record-status" class="translate" data-fr="Cliquez sur &quot;Enregistrer&quot; pour commencer." data-en="Click on &quot;Record&quot; to start." data-ja="「録音」をクリックして開始してください。">Cliquez sur "Enregistrer" pour commencer.</p>
            <button id="record-button" class="button translate" data-fr="Enregistrer" data-en="Record" data-ja="録音">Enregistrer</button>
            <button id="stop-recording-button" class="button hidden translate" data-fr="Arrêter" data-en="Stop" data-ja="停止">Arrêter</button>
            <button id="ok-recording-button" class="button hidden translate" data-fr="OK" data-en="OK" data-ja="OK">OK</button>
        </div>
    </div>

    <!-- Simple Counter for space bar attempts (for debugging / UI) -->
    <div id="space-bar-attempts"
         style="position: fixed; bottom:10px; right:10px; background: rgba(0,0,0,0.7);
                color:white; padding:5px 10px; border-radius:5px; display:none;">
        Space Bar Attempts: 0
    </div>

    <!-- 
         NOTE: The “score screen” and “PDF summary” blocks have been removed.
         Everything else remains intact.
    -->

    <script src="../../js/translationmain.js"></script>
    <script>
      document.getElementById('language-toggle')?.addEventListener('pointerup', toggleLanguage);
    </script>
    <script src="../../js/config.js"></script>
    <script src="../../js/gamecontroller-no-score.js"></script> 
</body>
</html>

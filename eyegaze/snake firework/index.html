<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu feu d'artifice contrôle oculaire EMB</title>
    <link rel="stylesheet" href="../../css/otherswitch.css">
    <link rel="stylesheet" href="../../css/games.css">
</head>
<body class="game">

<!-- Prompt overlay -->
<div id="promptOverlay">
    <button id="infoButton" title="Plus d'informations">ⓘ</button>
    <p>Ajustez les paramètres ci-dessous pour commencer à créer des feux d'artifice.</p>
    <button id="startButton">Commencer</button>
</div>

<div id="infoModal">
    <p>Déplacez votre regard pour déclencher des feux d'artifice. Utilisez le menu pour ajuster les paramètres.</p>
    <button id="closeModal">Fermer</button>
</div>

<div id="settings-icon" title="Options">⚙️</div>
<div id="menu">
    <h2>Options</h2>
    <label>
        <span>Intervalle entre les cercles (s)</span>
        <input id="interval-input" type="number" value="10" min="1">
    </label>
    <label>
        <span>Nombre de cercles initiaux</span>
        <input id="initial-circles-input" type="number" value="5" min="0">
    </label>
</div>

<!-- Explosion sound -->
<audio id="explosionSound" src="../../sounds/firework.mp3" preload="auto"></audio>

<script src="../../js/firework.js"></script>
<script>
    const icon = document.getElementById('settings-icon');
    const menu = document.getElementById('menu');
    icon.addEventListener('click', () => {
        menu.classList.toggle('show');
    });
    document.addEventListener('click', e => {
        if (!menu.contains(e.target) && !icon.contains(e.target)) {
            menu.classList.remove('show');
        }
    });

    const infoBtn = document.getElementById('infoButton');
    const infoModal = document.getElementById('infoModal');
    const closeModal = document.getElementById('closeModal');
    infoBtn.addEventListener('click', () => infoModal.style.display = 'block');
    closeModal.addEventListener('click', () => infoModal.style.display = 'none');
</script>
</body>
</html>

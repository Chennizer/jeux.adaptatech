<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorons le monde</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="../../css/global.css">
    <link rel="stylesheet" href="../../css/layout.css">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/games.css">
    <link rel="stylesheet" href="../../css/otherswitch.css">
</head>
<body class="interactive-map">

    <!-- Overlay and Menu -->
    <div id="promptOverlay">
        <button id="infoButton" title="More info">ⓘ</button>
        <p>Cliquez sur le bouton pour commencer le jeu. Appuyez sur F11 ou FN + F11 pour passer en plein écran.</p>
        <div id="dwellContainer">
            <label for="dwellTimeSlider">Temps de fixation: <span id="dwellTimeVal">1500</span> ms</label>
            <input type="range" id="dwellTimeSlider" min="500" max="5000" step="100" value="1500" class="styled-slider">
        </div>
        <div id="control-panel-loading-bar-container" class="control-panel-loading-bar-container">
            <div id="control-panel-loading-bar" class="control-panel-loading-bar"></div>
        </div>
        <button id="startButton">Commencer</button>
    </div>

    <div id="infoModal" style="display:none;">
        <p>Exploration du monde par fixation.</p>
        <button id="closeModal">Fermer</button>
    </div>

    <!-- Map Container -->
    <div class="map-container" id="map-container">
        <img src="../../images/worldmap.jpg" usemap="#image-map" alt="World Map" class="world-map">
        <div id="hover-circle" class="dwell-circle"></div>
    </div>

    <!-- Overlay for Dwell Effects -->
    <div class="overlay" id="overlay"></div>

    <!-- Animation Container for Region-Specific Animations -->
    <div id="animation-container" class="animation-container">
        <img id="zone-animation" src="" alt="Zone Animation" class="zone-animation">
    </div>

    <!-- Video Container for Displaying Region-Specific Videos -->
    <div id="video-container" class="video-container">
        <video id="end-video" controls>
            <source id="video-source" src="" type="video/mp4">
            Votre navigateur ne prend pas en charge la balise vidéo.
        </video>
    </div>

    <!-- Image Map for the Continent Zones -->
    <map name="image-map">
        <area target="" alt="north-america" title="Amérique du Nord" href="#" coords="442,530,369,480,260,419,191,256,42,214,167,71,476,34,857,24" shape="poly">
        <area target="" alt="south-america" title="Amérique du Sud" href="#" coords="437,545,450,686,528,940,583,986,650,806,712,647,644,560,522,487" shape="poly">
        <area target="" alt="africa" title="Afrique" href="#" coords="835,346,778,509,907,589,993,854,1161,774,1181,636,1154,582,1198,491,1064,362,949,322" shape="poly">
        <area target="" alt="europe" title="Europe" href="#" coords="1273,63,983,25,818,241,834,339,912,316,1041,343,1103,297,1163,314,1236,221" shape="poly">
        <area target="" alt="asia" title="Asie" href="#" coords="1899,137,1476,49,1271,83,1242,226,1175,316,1081,314,1085,375,1203,491,1326,535,1436,599,1521,657,1604,599" shape="poly">
        <area target="" alt="oceania" title="Océanie" href="#" coords="1743,608,1617,586,1522,718,1476,752,1482,857,1561,844,1607,928,1712,976,1783,905" shape="poly">
    </map>

    <!-- Image Map Resizer Script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/image-map-resizer/1.0.10/js/imageMapResizer.min.js"></script>

    <!-- Menu and Game Scripts -->
    <script src="../../js/eyegaze-menu.js"></script>
    <script src="../../js/scripts.js"></script>

    <!-- Game Initialization Script -->
    <script>
        setupInteractiveMapGame({
            zoneEffects: {
                'north-america': { video: '../../videos/north-america.mp4' },
                'south-america': { video: '../../videos/south-america.mp4' },
                'africa': { video: '../../videos/africa.mp4' },
                'europe': { video: '../../videos/europe.mp4' },
                'asia': { video: '../../videos/asia.mp4' },
                'oceania': { video: '../../videos/oceania.mp4' }
            }
        });
    </script>
</body>
</html>

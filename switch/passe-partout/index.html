<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Game</title>
    <link rel="stylesheet" href="../../css/control-panel.css">
    <link rel="stylesheet" href="../../css/games.css">
    <link rel="stylesheet" href="../../css/layout.css">
</head>
<body>
    <div id="control-panel" style="background-image: url('../../images/passe-partout-control-panel.webp');">
        <div id="control-panel-options">
            <div id="control-panel-title">Comptines de Passe-Partout</div>
        
            <div id="control-panel-instructions">
                Jeu interactif pour switch adaptée. Utiliser avec le navigateur en plein écran (appuyer sur F11). Pour revenir à cet écran, appuyer sur F5.
            </div>
    
            <!-- Options Grid for Two Columns -->
            <div id="options-grid">
                <!-- Mode de Jeu -->
                <div>
                    <select id="control-panel-play-mode" class="control-panel-custom-select">
                        <option value="" disabled selected>Mode de jeu</option>
                        <option value="pressBetween">Une fois par vidéo</option>
                        <option value="onePress">Une fois par liste de lecture</option>
                        <option value="interval">Intervalle</option>
                    </select>
                </div>
    
                <!-- Interval Time -->
                <div>
                    <label for="interval-time" id="interval-label" style="display:none;">Temps d'intervalle en secondes</label>
                    <input id="interval-time" type="number" value="5" style="display:none;">
                </div>
    
                <!-- Video Selection -->
                <div>
                    <button id="select-videos-button" class="button">Sélection de vidéos</button>
                </div>
    
                <!-- Space Prompt -->
                <div>
                    <button id="select-space-prompt-button" class="button">Image indicatrice</button>
                </div>
    
                <!-- Special Options (Visual) -->

                <div>
                    <select id="special-options-select" class="control-panel-custom-select">
                        <option value="normal" selected>Image normale</option>
                        <option value="green-filter">Saturation verte</option>
                        <option value="red-filter">Saturation rouge</option>
                        <option value="blue-filter">Saturation bleue</option>
                        <option value="high-contrast">Contraste élevé</option>
                        <option value="grayscale">Noir et blanc</option>
                        <option value="invert">Couleurs inversées</option>
                        <option value="brightness">Haute clarté</option>
                        <option value="saturation">Haute saturation</option>
                    </select>
                    
                </div>

                <select id="sound-options-select" class="control-panel-custom-select">
                    <option value="none" selected>Son indicateur</option>
                    <option value="gong-sound">Gong</option>
                    <option value="piano-sound">Piano</option>
                    <option value="rooster-sound">Rooster</option>
                    <option value="record-own">Record Your Own</option>  <!-- New option -->
                </select>
                
            </div>
        </div>
    
        <div id="button-container">
            <div id="control-panel-loading-bar-container">
                <div id="control-panel-loading-bar"></div>
            </div>
            <button id="control-panel-start-button" class="button" style="display:none;">Start</button>
        </div>
    </div>
    

    <!-- Video Selection Modal -->
    <div id="video-selection-modal" class="modal">
        <div class="modal-content">
            <span id="close-modal" class="close">&times;</span>
            <!-- Add the title here -->
            <h2 style="color:black">Sélection de vidéos</h2>
            <div id="video-selection">
                <div class="video-card" data-src="../../videos/passe-partout-intro.mp4">Introduction</div>
                <div class="video-card" data-src="../../videos/passe-partout-grenouilles.mp4">Grenouilles</div>
                <div class="video-card" data-src="../../videos/passe-partout-merle.mp4">Merle</div>
                <div class="video-card" data-src="../../videos/passe-partout-ferme.mp4">Ferme à Mathurin</div>
                <div class="video-card" data-src="../../videos/passe-partout-grenouilles.mp4">Grenouilles</div>
                <div class="video-card" data-src="../../videos/passe-partout-merle.mp4">Merle</div>
            </div>
            <button id="ok-button" class="button">OK</button>
        </div>
    </div>

    <div id="record-modal" class="modal">
        <div class="modal-content">
            <span id="close-record-modal" class="close">&times;</span>
            <h2>Record Your Own Sound Prompt</h2>
            <button id="record-button" class="button">Record (Max 5s)</button>
            <button id="stop-recording-button" class="button" style="display:none;">Stop</button> <!-- New Stop button -->
            <p id="record-status">Press record to begin</p>
            <button id="ok-recording-button" class="button" style="display:none;">OK</button> <!-- OK button to stop and close -->
        </div>
    </div>
    

    <!-- Space Prompt Image/Text Selection Modal -->
    <div id="space-prompt-selection-modal" class="modal">
        <div class="modal-content">
            <span id="close-space-prompt-modal" class="close">&times;</span>
            <h2 style="color:black">Sélectionner l'image indicatrice</h2>
            <div id="space-prompt-selection">
                <!-- Image Selection -->
                <div class="image-card" data-src="../../images/switch-rouge.png">
                    <img src="../../images/switch-rouge.png" alt="switch rouge">
                </div>
                <div class="image-card" data-src="../../images/switch-bleue.png">
                    <img src="../../images/switch-bleue.png" alt="switch bleue">
                </div>
                <div class="image-card" data-src="../../images/big-mack.png">
                    <img src="../../images/big-mack.png" alt="big mack">
                </div>
                <div class="image-card" data-src="../../images/interact-switch.png">
                    <img src="../../images/interact-switch.png" alt="interact switch">
                </div>
                <div class="image-card" data-src="../../images/switch-adaptatech.png">
                    <img src="../../images/switch-adaptatech.png" alt="switch adaptatech">
                </div>
                <div class="image-card" data-src="../../images/hand.png">
                    <img src="../../images/hand.png" alt="hand">
                </div>
            </div>

            <!-- Text Input for Prompt -->
            <h3 style="color:black">Remplacer l'image par du texte:</h2>
            <input type="text" id="text-prompt-input" placeholder="Texte personnalisé" style="width: 100%; padding: 10px; margin-top: 15px;" class="control-panel-input">

            <!-- Apply Button -->
            <button id="apply-space-prompt" class="button">OK</button>
        </div>
    </div>

    <!-- Audio Elements for Space Prompt Sounds -->
    <audio class="sound-effect" id="gong-sound" src="../../sounds/gong.mp3" preload="auto"></audio>
    <audio class="sound-effect" id="piano-sound" src="../../sounds/piano.mp3" preload="auto"></audio>
    <audio class="sound-effect" id="rooster-sound" src="../../sounds/rooster.mp3" preload="auto"></audio>
    

    <div id="black-background" style="display:none;"></div>

    <img id="space-prompt" src="" alt="Press Space to Start" style="display:none;">
    <div id="text-prompt" style="display:none; font-size: 40px; text-align: center; color:aliceblue;"></div>

    <div id="video-container" style="display:none;">
        <video id="video-player" controls="false">
            <source id="video-source" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <audio id="intro-jingle" src="../../sounds/intro-passe-partout.mp3" preload="auto"></audio>

    <div id="video-list" style="display:none;">
        <video data-src="../../videos/passe-partout-intro.mp4"></video>
        <video data-src="../../videos/passe-partout-grenouilles.mp4"></video>
        <video data-src="../../videos/passe-partout-merle.mp4"></video>
        <video data-src="../../videos/passe-partout-ferme.mp4"></video>
    </div>

    <script src="../../js/switch.js"></script>
</body>
</html> 
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Routine du matin</title>
  <link rel="stylesheet" href="../../css/choix.css" />
  <link rel="stylesheet" href="https://unpkg.com/reveal.js/dist/reveal.css" />
  <link rel="stylesheet" href="https://unpkg.com/reveal.js/dist/theme/black.css" id="theme" />
  <style>
    body { background-color: black; color: white; }
    #menu { text-align: center; }
    .choice-option { display: block; margin: 1em auto; font-size: 2em; cursor: pointer; }
    .choice-option input { margin-right: 0.5em; transform: scale(1.5); }
    #start-button { font-size: 2em; padding: 0.5em 1em; }
    .reveal h2, .reveal p { color: white; }
  </style>
</head>
<body>
  <div id="menu">
    <h1>Préparateur de routine du matin</h1>
    <label class="choice-option"><input type="checkbox" value="weather">Météo</label>
    <label class="choice-option"><input type="checkbox" value="day">Jour de la semaine</label>
    <label class="choice-option"><input type="checkbox" value="schedule">Horaire</label>
    <button id="start-button">Commencer</button>
  </div>

  <div class="reveal" style="display:none;">
    <div class="slides" id="slides"></div>
  </div>

  <audio id="intro-sound" src="../../sounds/arthur.mp3" preload="auto"></audio>

  <script src="https://unpkg.com/reveal.js/dist/reveal.js"></script>
  <script>
    const startButton = document.getElementById('start-button');
    const menu = document.getElementById('menu');
    const slides = document.getElementById('slides');
    const sound = document.getElementById('intro-sound');

    startButton.addEventListener('click', () => {
      const selected = Array.from(document.querySelectorAll('#menu input:checked')).map(i => i.value);
      if (selected.length === 0) return;
      selected.forEach(type => {
        const section = document.createElement('section');
        if (type === 'weather') {
          section.innerHTML = '<h2>Météo</h2><img src="../../images/sun/montgolfiere1.png" alt="Soleil" style="width:50%;" />';
        } else if (type === 'day') {
          const days = ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'];
          section.innerHTML = '<h2>Aujourd\'hui</h2><p>' + days[new Date().getDay()] + '</p>';
        } else if (type === 'schedule') {
          section.innerHTML = '<h2>Horaire</h2><p>Lecture, récréation, ateliers</p>';
        }
        slides.appendChild(section);
      });
      menu.style.display = 'none';
      document.querySelector('.reveal').style.display = 'block';
      Reveal.initialize();
      sound.play();
    });
  </script>
</body>
</html>
